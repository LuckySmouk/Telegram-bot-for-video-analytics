2025-12-12 14:06:51,009 - VideoAnalytics - INFO - Коллекция ChromaDB успешно загружена: 358 записей
2025-12-12 14:06:51,009 - VideoAnalytics - INFO - Соединение с БД установлено: video_data.db
2025-12-12 14:08:02,960 - VideoAnalytics - INFO - Получен вопрос: Сколько лайков всего было получено 2025 года 1 декабря?
2025-12-12 14:08:03,263 - VideoAnalytics - ERROR - Ошибка при поиске в ChromaDB: Collection expecting embedding with dimension of 768, got 384
2025-12-12 14:08:10,790 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:08:10,791 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'unknown', 'params': {}, 'explanation': 'В доступных методах нет функции для получения количества лайков. Все методы относятся к просмотрам или видео, а не к лайкам.'}
2025-12-12 14:09:49,698 - VideoAnalytics - INFO - Коллекция ChromaDB успешно загружена: 358 записей
2025-12-12 14:09:49,698 - VideoAnalytics - INFO - Соединение с БД установлено: video_data.db
2025-12-12 14:10:00,949 - VideoAnalytics - INFO - Получен вопрос: Сколько лайков всего было получено 2025 года 1 декабря?
2025-12-12 14:10:01,230 - VideoAnalytics - ERROR - Ошибка при поиске в ChromaDB: Collection expecting embedding with dimension of 768, got 384
2025-12-12 14:10:03,043 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:10:03,044 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'unknown', 'params': {}, 'explanation': 'В доступных методах нет функции для получения количества лайков. Все методы относятся к просмотрам или видео, а не к лайкам.'}
2025-12-12 14:10:39,800 - VideoAnalytics - INFO - Коллекция ChromaDB успешно загружена: 358 записей
2025-12-12 14:10:39,801 - VideoAnalytics - INFO - Соединение с БД установлено: video_data.db
2025-12-12 14:10:59,212 - VideoAnalytics - INFO - Получен вопрос: Сколько лайков всего было получено 1 декабря 2025 года?
2025-12-12 14:10:59,481 - VideoAnalytics - ERROR - Ошибка при поиске в ChromaDB: Collection expecting embedding with dimension of 768, got 384
2025-12-12 14:11:01,710 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:11:01,711 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'unknown', 'params': {}, 'explanation': 'В доступных методах нет функции для получения количества лайков. Все методы относятся к просмотрам или видео, а не к лайкам.'}
2025-12-12 14:14:16,818 - VideoAnalytics - INFO - Получен вопрос: git add .
2025-12-12 14:14:16,998 - VideoAnalytics - ERROR - Ошибка при поиске в ChromaDB: Collection expecting embedding with dimension of 768, got 384
2025-12-12 14:14:18,980 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:14:18,981 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'unknown', 'params': {}, 'explanation': "Вопрос 'git add .' не относится к анализу видео данных и не соответствует ни одному из доступных методов."}
2025-12-12 14:20:28,594 - VideoAnalytics - INFO - Коллекция ChromaDB успешно загружена: 358 записей
2025-12-12 14:20:28,595 - VideoAnalytics - INFO - Соединение с БД установлено: video_data.db
2025-12-12 14:20:39,029 - VideoAnalytics - INFO - Получен вопрос: Сколько лайков всего было получено 1 декабря 2025 года?
2025-12-12 14:20:44,056 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:20:54,613 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:20:54,614 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_total_likes_on_date', 'params': {'date': '1 декабря 2025'}, 'explanation': 'Вопрос спрашивает о суммарном количестве лайков за конкретную дату, что соответствует методу get_total_likes_on_date.'}
2025-12-12 14:20:54,630 - VideoAnalytics - INFO - Результат для вопроса 'Сколько лайков всего было получено 1 декабря 2025 года?': 71
2025-12-12 14:22:47,544 - VideoAnalytics - INFO - Получен вопрос: Сколько всего просмотров всех видео было за 29 ноября 2025 года?
2025-12-12 14:22:49,733 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:22:57,632 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:22:57,633 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_total_views_growth_on_date', 'params': {'date': '29 ноября 2025'}, 'explanation': 'Вопрос спрашивает о суммарном количестве просмотров за конкретную дату, что соответствует методу get_total_views_growth_on_date, который возвращает рост просмотров за указанную дату. Хотя в контексте нет прямых данных о просмотрах именно 29 ноября, метод подходит по смыслу, так как он предназначен для получения суммарного роста просмотров за дату.'}
2025-12-12 14:22:57,644 - VideoAnalytics - INFO - Результат для вопроса 'Сколько всего просмотров всех видео было за 29 ноября 2025 года?': 13385
2025-12-12 14:24:32,917 - VideoAnalytics - INFO - Получен вопрос: Выведи id самых топовых видео по лайкам и просмотрам
2025-12-12 14:24:33,117 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:24:41,480 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:24:41,481 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'unknown', 'params': {}, 'explanation': "Вопрос 'Выведи id самых топовых видео по лайкам и просмотрам' не соответствует ни одному из доступных методов, так как ни один из них не предназначен для вывода списка видео с сортировкой по лайкам и просмотрам. Методы в системе позволяют получать статистику по количеству видео, просмотров, лайков или росту за дату, но не предоставляют функционала по фильтрации и сортировке видео по метрикам."}
2025-12-12 14:25:10,980 - VideoAnalytics - INFO - Получен вопрос: Выведи три видео которые самые топовые по просмотрам и количеству лайков.
2025-12-12 14:25:11,165 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:25:16,610 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:25:16,611 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'unknown', 'params': {}, 'explanation': 'Вопрос требует вывести три самых топовых видео по просмотрам и лайкам, но ни один из доступных методов не позволяет сортировать или выбирать топ-3 видео по комбинированным критериям. Система не поддерживает такой запрос.'}
2025-12-12 14:25:37,611 - VideoAnalytics - INFO - Получен вопрос: Сколько всего просмотров всех видео было за 21 ноября 2025 года
2025-12-12 14:25:40,379 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:25:48,275 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:25:48,276 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_total_views_growth_on_date', 'params': {'date': '21 ноября 2025'}, 'explanation': 'Вопрос спрашивает о суммарном количестве просмотров за конкретную дату, что соответствует методу get_total_views_growth_on_date, который возвращает рост просмотров за указанную дату. Хотя в контексте нет данных о просмотрах именно за эту дату, метод подходит по смыслу вопроса.'}
2025-12-12 14:25:48,287 - VideoAnalytics - INFO - Результат для вопроса 'Сколько всего просмотров всех видео было за 21 ноября 2025 года': 0
2025-12-12 14:26:23,863 - VideoAnalytics - INFO - Получен вопрос: Сколько всего просмотров всех видео было 21 ноября 2025 года?
2025-12-12 14:26:24,027 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:26:31,176 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:26:31,177 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_total_views_growth_on_date', 'params': {'date': '21 ноября 2025'}, 'explanation': 'Вопрос спрашивает о суммарном количестве просмотров всех видео за конкретную дату, что соответствует методу get_total_views_growth_on_date, который возвращает рост просмотров за указанную дату. Хотя в контексте нет данных о просмотрах именно 21 ноября 2025, метод подходит по смыслу вопроса.'}
2025-12-12 14:26:31,190 - VideoAnalytics - INFO - Результат для вопроса 'Сколько всего просмотров всех видео было 21 ноября 2025 года?': 0
2025-12-12 14:29:44,346 - VideoAnalytics - INFO - Коллекция ChromaDB успешно загружена: 358 записей
2025-12-12 14:29:44,346 - VideoAnalytics - INFO - Соединение с БД установлено: video_data.db
2025-12-12 14:29:49,082 - VideoAnalytics - INFO - Получен вопрос: Сколько всего просмотров всех видео было 21 ноября 2025 года?
2025-12-12 14:29:49,251 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:29:56,030 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:29:56,031 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_total_views_growth_on_date', 'params': {'date': '21 ноября 2025'}, 'explanation': 'Вопрос спрашивает о суммарном количестве просмотров всех видео за конкретную дату, что соответствует методу get_total_views_growth_on_date, который возвращает рост просмотров за указанную дату. Хотя в контексте не указаны данные о росте просмотров, метод подходит по смыслу вопроса.'}
2025-12-12 14:29:56,043 - VideoAnalytics - INFO - Результат для вопроса 'Сколько всего просмотров всех видео было 21 ноября 2025 года?': 0
2025-12-12 14:30:31,085 - VideoAnalytics - INFO - Получен вопрос: Какое количество просмотров всех видео за 21 ноября?
2025-12-12 14:30:33,716 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:30:39,054 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:30:39,055 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_total_views_growth_on_date', 'params': {'date': '21 ноября'}, 'explanation': 'Вопрос спрашивает о количестве просмотров всех видео за конкретную дату, что соответствует методу get_total_views_growth_on_date, который возвращает суммарный рост просмотров за указанную дату.'}
2025-12-12 14:30:39,067 - VideoAnalytics - WARNING - Не удалось распарсить дату: 21 ноября
2025-12-12 14:31:22,161 - VideoAnalytics - INFO - Получен вопрос: Какое количество просмотров всех видео за 21 ноября 2025 года?
2025-12-12 14:31:22,339 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:31:27,206 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:31:27,207 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_total_views_growth_on_date', 'params': {'date': '21 ноября 2025'}, 'explanation': 'Вопрос спрашивает о суммарном количестве просмотров всех видео за конкретную дату, что соответствует методу get_total_views_growth_on_date.'}
2025-12-12 14:31:27,217 - VideoAnalytics - INFO - Результат для вопроса 'Какое количество просмотров всех видео за 21 ноября 2025 года?': 0
2025-12-12 14:41:12,246 - VideoAnalytics - INFO - Получен вопрос: Сколько всего видео есть?
2025-12-12 14:41:14,628 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:41:23,958 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:41:23,959 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_video_count', 'params': {}, 'explanation': "Вопрос 'Сколько всего видео есть?' напрямую соответствует методу get_video_count, который возвращает общее количество видео в системе."}
2025-12-12 14:41:23,959 - VideoAnalytics - INFO - Результат для вопроса 'Сколько всего видео есть?': 358
2025-12-12 14:42:15,092 - VideoAnalytics - INFO - Получен вопрос: Сколько всего видео выложено в ноябре?
2025-12-12 14:42:19,732 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:42:25,859 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:42:25,860 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_videos_by_creator_in_date_range', 'params': {'creator_id': 'unknown', 'date_range': 'не указан'}, 'explanation': 'Вопрос не содержит информации о конкретном креаторе, поэтому невозможно определить, какой метод вызвать для подсчета видео в ноябре. Метод get_videos_by_creator_in_date_range требует creator_id, который отсутствует в вопросе.'}
2025-12-12 14:42:25,861 - VideoAnalytics - WARNING - Не удалось распарсить дату: не указан
2025-12-12 14:42:25,861 - VideoAnalytics - WARNING - Не удалось распарсить диапазон дат: не указан
2025-12-12 14:42:39,990 - VideoAnalytics - INFO - Получен вопрос: Сколько всего видео выложено в ноябре 2025 года?
2025-12-12 14:42:40,209 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:42:44,996 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:42:44,996 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_video_count', 'params': {}, 'explanation': 'Вопрос не содержит информации о конкретном креаторе, датном диапазоне или пороге просмотров, поэтому подходит только метод get_video_count для получения общего количества видео в системе.'}
2025-12-12 14:42:44,996 - VideoAnalytics - INFO - Результат для вопроса 'Сколько всего видео выложено в ноябре 2025 года?': 358
2025-12-12 14:43:30,558 - VideoAnalytics - INFO - Получен вопрос: Сколько всего видео сделано в периоде с 1 по 28 ноября 2025 года?
2025-12-12 14:43:30,747 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/embeddings "HTTP/1.1 200 OK"
2025-12-12 14:43:40,102 - httpx - INFO - HTTP Request: POST http://127.0.0.1:11434/api/chat "HTTP/1.1 200 OK"
2025-12-12 14:43:40,104 - VideoAnalytics - INFO - Валидированный ответ: {'method': 'get_videos_by_creator_in_date_range', 'params': {'creator_id': 'unknown', 'date_range': '1-28 ноября 2025'}, 'explanation': 'Вопрос не указывает конкретного креатора, поэтому невозможно точно определить, какой метод вызвать. Предполагается, что пользователь хочет получить общее количество видео в указанном диапазоне дат, но такой метод в доступных не предусмотрен. Вместо этого, возможно, требуется использовать метод get_video_count, но он не фильтрует по дате. В связи с этим метод не может быть определен с уверенностью 95%.'}
2025-12-12 14:43:40,104 - VideoAnalytics - INFO - Результат для вопроса 'Сколько всего видео сделано в периоде с 1 по 28 ноября 2025 года?': 0
